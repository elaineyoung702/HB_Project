{% extends 'base.html' %}
{% block title %}Board Game Database{% endblock %}

{% block body %}

<table id="database" class="table table-striped table-bordered table-sm" cellspacing="0" width="100%">
    <thead>
        <tr>
            <th class="th-sm">Thumbnail</th>
            <th data-sort-attr="bg_name" class="th-sm sortable">Board Game Name</th>
            <th data-sort-attr="min_players" class="th-sm sortable">Minimum Players</th>
            <th data-sort-attr="max_players" class="th-sm sortable">Maximum Players</th>
            <th data-sort-attr="suggested_players" class="th-sm sortable">Suggested Players</th>
            <th data-sort-attr="playtime" class="th-sm sortable">Playtime</th>
            <th class="th-sm">Description</th>
            <th data-sort-attr="publisher" class="th-sm sortable">Publisher</th>
            <th data-sort-attr="year_published" class="th-sm sortable">Year Published</th>
            <th data-sort-attr="designer" class="th-sm sortable">Designer</th>
        </tr>
    </thead>
    <tbody>
    {% for bg in bg_obj_list %}
    <tr>
        <td><img src={{bg.thumbnail_url}}></td>
        <td><a href="/boardgame/{{bg.bg_id}}">{{bg.bg_name}}</a></td>
        <td>minimum {{bg.min_players}} players</td>
        <td>maximum {{bg.max_players}} players</td>
        <td>suggested {{bg.suggested_players}} players</td>
        <td>{{bg.playtime}} minutes</td>
        <td>{{bg.description}}</td>
        <td>Publisher: {{bg.publisher}}</td>
        <td>published in {{bg.year_published}}</td>
        <td>Designer: {{bg.designer}}</td>
    </tr>
    {% endfor %}
    </tbody>
    <!-- <tfoot>
        <tr>
            <th>Thumbnail</th>
            <th>Board Game Name</th>
            <th>Minimum Players</th>
            <th>Maximum Players</th>
            <th>Suggested Players</th>
            <th>Playtime</th>
            <th>Description</th>
            <th>Year Published</th>
            <th>Designer</th>
        </tr>
    </tfoot> -->

</table>

<script>
    const sortableHeaders = $('th.sortable');

    sortableHeaders.on('click', function(event) {
        const sortBy = event.currentTarget.dataset.sortAttr;
        window.location = `/database?sort_col=${sortBy}`;
        // window.location = '/database?sort_col=playtime';
    });
</script>

{% endblock %}